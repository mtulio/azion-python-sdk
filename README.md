# AZION Python SDK


## USE CASE

* [Ansible ROLE to manage CDN](https://github.com/mtulio/ansible-role-cloud-cdn)

## INSTALL

* From dev upstream

`pip install -e git+git@github.com:mtulio/azion-python-sdk.git@master#egg=azion`

## DEPENDENCIES

* Valid user in [AZION platform]()
* An valid **session token** generated by your current credential. Eg.:
```
curl -s -X POST \
    -H "Accept: application/json; version=1" \
    -H "Authorization: Basic $(echo 'user@mail:mypass'|base64)" \
    https://api.azion.net//tokens
```
* Export session token in environment **AZION_TOKEN**. Eg.:
```
AZION_TOKEN=<YOUR_SESSION_TOKEN>
```

## USAGE

* Create the session

> Will gets the AZION_TOKEN env
```
from azion import AzionAPI
api = AzionAPI()
```

* Get all CDNs

`api.cdn_config()`

* Get an CDN by NAME

`api.cdn_config(cdn_name='test-api')`

* Get an CDN by ID

`api.cdn_config(cdn_id=14934121312)`

* Get CDN's Origin config from an ID

`api.cdn_config(option='origin', cdn_id=14934121312)`

* Get CDN's Cache config from an ID

`api.cdn_config(option='cache', cdn_id=14934121312)`

* Get CDN's Rules Engine config from an ID

`api.cdn_config(option='rules', cdn_id=14934121312)`

## TESTS

> TODOing

`python -m unittest`
